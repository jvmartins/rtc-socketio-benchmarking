!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports={selfEasyrtcid:"",connectList:{},channelIsActive:{},configureRTCDataChannel:function(){this.setPropertiesRTC(),this.setListeners(),this.connectRTC(),this.setRTCCustomListeners()},setPropertiesRTC:function(){easyrtc.enableDebug(!1),easyrtc.enableVideo(!1),easyrtc.enableAudio(!1),easyrtc.enableVideoReceive(!1),easyrtc.enableAudioReceive(!1),easyrtc.enableDataChannels(!0)},setListeners:function(){easyrtc.setDataChannelOpenListener(this.openListener),easyrtc.setDataChannelCloseListener(this.closeListener)},setRTCCustomListeners:function(){},connectRTC:function(){easyrtc.connect("easyrtc.dataMessaging",this.loginSuccess,this.loginFailure)},openListener:function(a){this.channelIsActive[a]=!0},closeListener:function(a){this.channelIsActive[a]=!1},loginSuccess:function(a){this.selfEasyrtcid=a,console.log("Connected to RTC channel as: "+a)},loginFailure:function(){easyrtc.showError(errorCode,"failure to login")}}},{}],2:[function(a){"use strict";function b(){var a=document.getElementById("bar-chart").getContext("2d"),b={labels:[],datasets:[{label:"SocketIO",fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:[]},{label:"RTC",fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,0.8)",highlightFill:"rgba(151,187,205,0.75)",highlightStroke:"rgba(151,187,205,1)",data:[]}]};k=new Chart(a).Bar(b,o)}function c(){l.on("serverMessage",function(a){var b=Date.now()-a.currentTimestamp+a.date;console.log("SocketIO data: "+a),g(b,"socketio",a.messageId)}),l.on("deviceInfoFromServer",d)}function d(a){console.log("device info"),$("#device_platform").html(a.platform),$("#device_browser").html(a.browser)}function e(){easyrtc.setPeerListener(f)}function f(a,b,c){var d=Date.now()-c.date;console.log("RTC data: "+c),g(d,"rtc",c.messageId)}function g(a,b,c){console.log("addToChart"),"socketio"==b&&(console.log("socketio"),j=a,h(c)),"rtc"==b&&(console.log("rtc"),i=a,h(c))}function h(a){console.log("Render bar chart: "+a),setTimeout(function(){n[a]||(n[a]=!0,console.log("Times:"+j+" "+i),k.addData([j,i],a),i=void 0,j=void 0)},1e3)}var i,j,k,l=io.connect("http://rtc-socketio-benchmarking.herokuapp.com/"),m=a("./commonRTC"),n={},o={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1};$(function(){m.setRTCCustomListeners=e,m.configureRTCDataChannel(),c(),b()})},{"./commonRTC":1}]},{},[2]);